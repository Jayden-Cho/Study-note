데이터를 단순히 '수치의 조합'으로 보는게 아니라 '공간 안의 점'으로 간주해 **직관을 활용**할 수 있게 하는 것이 목표.

> 행렬 속 문자 배열보고 멍 때리지 말고, '**공간**'이라는 생각을 잊지 말자.

|        | 문자 배열(표면상)                | 의미                                 |
| :----- | -------------------------------- | ------------------------------------ |
| 벡터   | 숫자를 일렬로 늘어 놓은 것       | 화살표, 또는 공간 안의 점            |
| 행렬   | 숫자를 직사각형으로 늘어 놓은 것 | 공간에서 공간으로의 <u>직교 사상</u> |
| 행렬식 | 귀찮은 계산..                    | 직교 사상에 따른 부피 확대율         |

> 수치가 주어진 벡터, 행렬뿐만 아니라, ax+by 같은 문자식에 대해서도 '공간속의 모습'을 의식해 계산할 수 있는 것이 중요.

<br>

## 1.1 벡터와 공간

>어떻게 하면 n개의 수치를 한 번에 다룰 수 있을까?

####  1.1.1 우선적인 정의: 수치의 조합을 정리하여 나타내는 기법

- 수를 나열한 것을 벡터라고 부름.
  - 종벡터(세로)를 기본으로 사용.

$$
\binom{6}{4}
$$



- 정통 계산법(덧셈, 정수배)은 아니까 생략.

>곱셈은 다르다!
>
>**좌표 변환**과 성격이 맞지 않기 때문. 곱셈 ***xy***는 '특정 좌표계에서 외관에 관한 성질'에 불과하다. Universal하지 않다.

<br>

#### 1.1.2 '공간'의 이미지

- 벡터는 '위치'로 해석할 수도, '화살표'로 해석할 수도 있다.
  - **위치 벡터**: $(3, 5)^T$ 처럼 위치에 대응시키는 것을 강조할 때 사용.
  - 화살표 벡터: 원점 0에서 특정 위치를 향하는 것을 강조할 때 사용.
    - 덧셈과 정수배를 도형으로 해석하려면 화살표 벡터가 낫다. 덧셈은 화살표의 이어 붙임, 정수배는 길이의 변화.

<br>

#### 1.1.3 기저

>우주에는 위도 없고 오른쪽도 없다.
>
>현실에서는 평면에 모눈종이 눈금이 그려져 있지만, 본래는 눈금이라는게 존재하지 않는다. 눈금이란건 우리의 편리를 위해 만들어진 약속.

- **선형 공간**(벡터 공간): '덧셈'과 '정수배'가 정의된 세계. 우리가 사는 공간을 추상화해 축소한 공간.
  - 적용되는 것은 '덧셈'과 '정수배'뿐이고, 영벡터 **$O$** 을 제외하곤 모든 화살표가 동등하다.
  - '길이'나 '각도'가 정의되어있지 않다. 그러므로 서로 비교할 수 없다. '회전'도 불가능.

> <u>1.8 **내적**과 **외적**은?</u>
>
> 내적으로 '길이'나 '각도'를 계산할순 있지만, 곱셈이 기초라 좌표가 변하면 내적도 변해버려 소용이 없어진다.
>
> 외적은 너무나도 3차원에 특화된 개념이라 포괄적인 n차원에서 다뤄지기 어렵다.

><u>1.9 우주는 '무'의 상태니까 **원점도 지워버리면**?</u>
>
>사양(원점, 덧셈, 길이 등)이 많아질수록 다루는 대상이 한정적이다.
>
>하지만 사양이 너무 적으면 너무 느슨해진다. 그러므로 **원점**은 <u>황금 밸런스</u>라 치자.

<br>

이런 선형 공간(눈금이 사라진 벡터 공간)에서는 위치 지정이 불편하다. 말로 위치를 정할 수 있도록 '**번지**(좌표)'를 정하자.

- 먼저, 기준이 되는 벡터  $\vec{e_1}, \vec{e_2}$ 가 무엇인지 정하기.
  - 그 다음 이 '**기저**'로 벡터를 만든다. 이렇게:

$$
\vec{v} = 3\vec{e_1} + \vec{e_2}
$$

- '기준이 되는 한 쌍의 벡터'는 **기저**, '각 기준에서 몇 보 나아가는가'를 **좌표**라고 한다. 표현하자면:

$$
기저\ (\vec{e_1},\vec{e_2})\ 에\ 대한\ 벡터\ \vec{v}의\ 좌표는\ {v}=(3,2)^T\ 이다.
$$

- 기저는  $(\vec{e_1}, \vec{e_2})$  한 쌍이고, $\vec{e_1}$ 나 $\vec{e_2}$ 는 기저 벡터라고 부름.

  - 눈금이라는 추상적인 기준 대신 '기저'를 사용. 
- 아무 벡터나 기저가 될 수 있는게 아니다! 기저가 되지 위한 '조건'을 충족해야 한다.

> <u>1.10 처음엔 벡터가 절대적인 의미가 있는 무언가처럼 보였다.</u>
>
> - 하지만 기저를 사용해 표현된 좌표에 불과했다.
> - 기저가 바뀌면 그에 따라 벡터도 바뀐다(외관의 성질에 불과하다).
>
> "어느 기저를 취할지"에 의존하지 않는 개념이 <u>대상의 본래 성질을 지닌다.</u> 정칙, 랭크, 고윳값이 그 예.

> <u>1.11 결국 벡터 = 숫자의 나열?</u>
>
> '임시적인 수'라고 생각하자. 기저가 변경되면 바뀔 숫자다.

<br>

####  1.1.4 기저가 되기 위한 조건

벡터의 조합 ($\vec{e_1},...,\vec{e_2}$)이 기저가 될 수 있는 조건.

1. 특정 공간 안의 어떤 벡터 $\vec{v}$ 라도, $\vec{v}=x_1\vec{e_1}+...+x_n\vec{e_n}$ 으로 나타낼 수 있어야 한다. 

   **모든 토지에 번지가 붙어있다.**

2. 벡터를 나타내는 방법은 한 가지 뿐이다.

   **토지 하나에 번지는 하나뿐이다.**

<br>차원의 개수만큼 기저가 존재한다. 또한, 
$$
u_1\vec{e_1}+...+u_n\vec{e_n}\ 이면\ u_1=...= u_n =0이다.
$$

- 주어진 벡터 $\vec{e_1},...,\vec{e_n}$ 에 대해 수 $u_1,...,u_2$ 를 가져와 만들어진 벡터 $u_1\vec{e_1}+...+u_n\vec{e_n}$ 을  

  벡터 $\vec{e_1},...,\vec{e_n}$ 의 **선형 결합**이라고 한다.

<br>

#### 1.1.5 차원

앞에서 '차원의 개수만큼 기저가 존재한다'고 했지만, 공식적으로는 반대다.

- **차원 = 기저 벡터의 개수 = 좌표의 성분수**

> <u>1.13 무한 차원의 경우는?</u>
>
> 여기서는 암묵적으로 **유한 차원**에 대해서만 다루고 있다. 하지만, 
>
> 무한 수열 $x= (x_1,x_2, x_3,...)$ 과 수 c에 대해 생기는 새로운 무한 수열 $u= (cx_1, cx_2, cx_3,...)$ 
>
> 로 나타내기만 하면 무한 수열의 세계도 선형 공간이라 간주할 수도 있다.
>
> - 하지만 **무한 차원**에는 함정이 존재하기 때문에 유한 차원만 다루자...

<br>

#### 1.1.6 좌표에서의 표현

기저 = 단위

- '백두산은 2,744이다' 라고 하면 뭔지 알 수 없다. 대신 '2,744m이다' 라고 단위를 붙이면 진정한 의미를 가진다.
- '2,744'가 좌표, 'm'가 기저에 해당한다.

<br>

매번 기저를 쓰는건 번거로우니 기저 생략하고 좌표만 표시한다.

- 일단 좌표 $\textbf{v}$를 '벡터'라고 생각하고, 적응되면 그 뒤에 있는 '기저'를 의식하기.  

<br>

## 1.2 행렬과 사상

> '벡터'를 파악했으니 '벡터 간의 관계'를 알아보자. **행렬**로 관계를 나타낼 수 있다.

<br>

#### 1.2.1 우선적인 정의: 순수한 관계를 나타내는 편리한 기법

행렬: 수를 직사각형 형태로 나열한 것.

- 정방행렬: 행 수와 열 수가 같은 행렬.
- 행렬 $A$의 $i$행과 $j$열의 값을 $A$의 ($i, j$) 성분이라고 한다. $A=(a_{ij})$ 라고도 표현한다.
  - 일반적으로 행렬은 대문자, 성분은 소문자로 쓴다.

<br>

Q. 고기를 $x_고$그램, 콩을 $x_콩$그램, 쌀을 $x_쌀$그램 샀다. 합계($)는 얼마일까? 총 몇 칼로리일까?

A. 해답인 $y_돈$, $y_칼$은 다음과 같다:
$$
y_돈 = a_{돈고}x_{고}+a_{돈콩}x_{콩}+a_{돈쌀}x_쌀 \ ...(가) \\ y_칼 = a_{칼고}x_{고}+a_{칼콩}x_{콩}+a_{칼쌀}x_쌀 \ ...(나)
$$
이 식들을 정리하면:
$$
\binom{y_{돈}}{y_{칼}} = \begin{pmatrix}
a_{돈고} &a_{돈콩}  &a_{돈쌀} \\ 
a_{칼고} &a_{칼콩}  & a_{칼쌀}
\end{pmatrix} \begin{pmatrix}
x_{고}\\ 
x_{콩}\\ 
x_{쌀}
\end{pmatrix}
$$
'요인'인 $x_{고}, x_{콩}, x_{쌀}$과 '요소'인 $a_{ij}$가 하나에 정리되어 보기 좋아졌다. 이것이 '**행렬과 벡터의 곱**'.

- 행렬은 $3$x$4$ 행렬 $A$,  벡터는 벡터 $a$.

<br>

덧셈과 정수배는 생략하고, 곱셈에 대해 주의할 점 세가지:

- 행렬과 벡터의 곱은 벡터.
- 행렬의 열 수 (가로폭)가 '입력'의 차원 수, 행 수(높이)가 '출력'의 차원 수.
- 입력의 종벡터를 가로로 넘겨 계산하는 느낌.

<br>

(가), (나)가 나타내는 것은, 요인 $x_{고}, x_{콩}, x_{쌀}$에서 결과 $y_{돈}, y_{칼}$ 로 바뀌는 '<u>순수한 관계</u>'.

- 쉽게 말해 함수 $f(x)$를 통해 $x$에서 $f(x)$로 변경되는 것.
- '순수함'을 바꿔 말하면 "정의한 '벡터의 덧셈과 정수배'를 제대로 유지하다".

정리하면, 행렬이란 **순수한 관계를 나타내는 편리한 기법**. 
$$
x+y=z \ ... 전체 무게 \\ Ax+Ay=Az \ ... 전체가격(칼로리)
$$

> <u>1.15 행렬이 '순수한 관계'면, '순수한 관계'는 모두 행렬?</u>
>
> ㅇㅇ. 행렬의 곱은 선형 사상이고, 선형 사상은 '행렬을 곱한다'로 쓸 수 있다.

**'행렬을 곱하다'는 '순수한 관계'를 나타내고, '행렬'은 그 '순수한 관계'를 나타내는 기법.**

- y = result. 결과.
- 행렬 = elements. 요소.
- x  = cause. 요인.

<br>

#### 1.2.2 여러 가지 관계를 행렬로 나타내다 (1)

'행렬을 곱하다' = '순수한 관계' = '상승 효과나 규모 효과가 없고, 단순히 각 요인의 합계.' = 'x들의 집합'

- 상승 효과나 규모 효과가 없다: 학 열마리의 다리 개수 = 10 과 같은 단순 합계.
  - ''학 한마리 머리는 1개지만, 셋이 합치면 5개가 된다' 이런게 '순수하지 않은 관계'.
  - 순수하지 않은 관계는 행렬로 나타낼 수 없다.

**학 거북이 계산**

학이 $x_{학}$마리, 거북이가 $x_{거북}$마리 있다면 머리의 개수 $y_{개수}$와 다리의 개수 $y_{개수}$는 다음과 같다.
$$
y_{머리}=a_{학머리}x_{학}+a_{거북머리}x_{거북} = x_{학}+x_{거북} \\
y_{다리}=a_{학다리}x_{학}+a_{거북다리}x_{거북} = 2x_{학}+4x_{거북}
$$
이를 행렬로 쓰면 다음과 같다.
$$
\binom{y_{머리}}{y_{다리}}=\begin{pmatrix}a_{학머리}&a_{거북머리}\\a_{학다리}&a_{거북다리}\end{pmatrix}\begin{pmatrix}x_{학}\\x_{거북}\\\end{pmatrix}=\begin{pmatrix}1&1\\2&4\end{pmatrix}\binom{x_{학}}{x_{거북}}
$$

- $a_{ij}$는 '결과 $j$에 대한 요인$i$의 기능 상태' (x, y의 관계).
  - 이런 기능 상태를 표로 만든 것이 행렬 (x, y 관계들의 집합).

<br>

#### 1.2.3 행렬은 사상이다

$n$차원 벡터 $x$에 $m$ X $n$ 행렬 $A$를 곱하면 $m$차원 벡터 $y=Ax$가 얻어진다. 행렬 $A$는 기존 벡터를 다른 벡터에 옮기는 사상.

- 사상은 행렬의 가장 중요한 기능. $n$차원 벡터를 $m$차원으로 옮긴 것.

> 차원 = 기저의 수 = 열(column)의 수

- 행렬을 보고 '수가 나열되어 있다'라고 생각하지 말고, '**사상이 주어졌다**'라고 생각하자.
- 함수는 일대일,  다대일(결과값이 하나)지만, 사상은 일대일, 다대일, 일대다, 다대다 모두 가능.

<br>

사상을 좀 더 쉽게 알아보자.
$$
행렬\ A= \begin{pmatrix}
1 &-0.3  \\ 
-0.7 &0.6
\end{pmatrix} 를\ e_1=\binom{1}{0}을\ \binom{1}{-0.7}에,\ e_2=\binom{0}{1}를\ \binom{-0.3}{0.6}에\ 이동시킨다.
$$

정리해보면,
$$
m\times n\ 행렬\ A는\ n차원\ 공간을\ m차원\ 공간에\ 옮기는\ 사상을\ 나타낸다.
$$
<br>

당연하지만, '사상이 같다면 행렬도 같다'. 

- 같은 크기의 행렬 $A, B$가 임의의 벡터 $x$에 대해 항상 $Ax=Bx$라면 $A=B$ 이다. 

<br>

#### 1.2.4 행렬의 곱 = 사상의 합성

$k\times m$ 행렬과 $m\times n$ 행렬의 곱은 $k\times n$ 이다.

벡터 $x$를 우선 사상 $A$를 사용해 바꾸고, 바꿔진 곳 $y=Ax$ 역시 사상 $B$ 로 날렸다고 생각하자. 그렇다면 최종 종착지는 $z=B(Ax)$. 

- 행렬의 곱 $BA$는 벡터 $x$ 를 한번에 벡터 $z$ 로 날리는 사상이다. '$A$하고, $B$한다' 가 곱 $BA$. 
  - matrix multiplication은 오른쪽 부터 시작.

$$
(BA)x = B(Ax)
$$

- $BA$ 와 $AB$는 같지 않다. 예를 들어, 행렬 $A$ 와 $B$ 가 있다 하자.
  $$
  A = \begin{pmatrix}
  0 & -1  \\ 
  1 & 0
  \end{pmatrix}이고,\ B= 
  \begin{pmatrix}
  2 & 0  \\ 
  0 & 1
  \end{pmatrix}일 때,\\
  $$

  - 행렬 $A$는 공간을 '돌리고', 행렬 $B$는 공간을 '가로로 넓힌다.'
    - $A[e_1]$ 은 $y$값을 $x$값으로 돌리고, $A[e_2]$ 는 180도 뒤집는다.
    - $B[e_1]$ 는 $x$를 두배 늘린다. 

<br>

#### 1.2.5 행렬 연산의 성질

- $(cA)x=c(Ax)=A(cx)$

- $(A+B)x=Ax+Bx$
- $(c+c')A=cA+c'A$ 
- $A(B+C)=AB+AC$
- $(A+B)C = AB+AC$

<br>

벡터도 행렬의 일종이라 생각해도 된다.

- 하지만 '종 곱하기 횡', '횡 곱하기 종'은 다르다.

  $\begin{pmatrix}2\\9\\4\end{pmatrix}\begin{pmatrix}1&2&3\end{pmatrix}=\begin{pmatrix}2&4&6\\9&18&27\\4&8&12\end{pmatrix}\\\begin{pmatrix}1&2&3\end{pmatrix}\begin{pmatrix}2\\9\\4\end{pmatrix}=32$

<br>

#### 1.2.6 행렬의 거듭제곱 = 사상의 반복

정방행렬 $A$ 에 대해 다음과 같이 쓴다면:
$$
AA = A^2,\ AAA=a^3,\ ...
$$
사상으로서 $A^n$ 은 '$A$ 를 $n$ 번 반복 적용한다'. 

<br>

다음과 같은 공식을 적용할 수 있다.

- $A^{a+b}=A^aA^b$
- $(A^a)^b = A^{(ab)}$

<br>

크기가 같은 정방행렬 $A, B$ 에 대해:

- $(A+B)^2=A^2+AB+BA+B^2$
- $(A+B)(A-B) = A^2-AB+BA=B^2$
- $(AB)^2=ABAB$

> 일반적으로 $AB$ 와 $BA$ 는 다르므로 주의해야 한다. 수처럼 $(A+B)^2=A^2+2AB+B^2$ 가 아니다.

예를 들어보자. 행렬 $A,B$ 가 다음과 같다면,
$$
A=\begin{pmatrix} 
1&0\\
0&1
\end{pmatrix}, B = \begin{pmatrix}0&-1\\1&0\end{pmatrix}
$$
$A$ 는 상하를 누르는 행렬, $B$ 는 반시계 방향으로 90도 회전한 행렬. $(AB)^2$ 와 $A^2B^2$ 는 다음과 같다.
$$
(AB)^2 = \begin{pmatrix}0&-1\\0&0\end{pmatrix}\begin{pmatrix}0&-1\\0&0\end{pmatrix}=\begin{pmatrix}0&0\\0&0\end{pmatrix}\\
A^2B^2= 
\begin{pmatrix}1&0\\0&0\end{pmatrix}\begin{pmatrix}-1&0\\0&-1\end{pmatrix}=\begin{pmatrix}-1&0\\0&0\end{pmatrix}
$$
 $(AB)^2$은 0으로 만드는 행렬이고, $A^2B^2$ 는 반시계 방향으로 180도 돌리고 x축을 기준으로 누른다.

<br>

#### 1.2.7 영행렬, 단위행렬, 대각행렬

**영행렬**

모든 성분이 0인 행렬. 

- 크기를 명시하고 싶을 땐 $m\times n$ 영행렬 $O_{m,n}$ 이나 $n$ 차 정방영행렬 $O_n$ 처럼 쓴다.
- 영행렬이 나타내는 사상은 **모든 것을 원점으로 이동시키는 사상**. 

보통 숫자 연산에서는 유추할 수 없는 현상이 생긴다.

- $'A\ne'O, B\ne O$ 인데도 $BA=O$ 가 가능하다.
  $$
  A=\begin{pmatrix}0&0\\1&1\end{pmatrix}\ b=\begin{pmatrix}1&0\\1&0\end{pmatrix}
  $$
  

  이다면, $A$ 는 세로를 누르고, $B$ 는 가로를 누른다. 그러므로 $BA=O$ 가 가능하다.

<br>

**단위행렬**

대각선 위만 1이고 모두 0인 행렬.

- '모든 성분이 1인 행렬'은 아니다. '**아무것도 하지 않는**' 사상.

<br>

**대각행렬**

대각 성분을 제외한 비대각성분이 모두 0인 행렬.

- 대부분 0인데 지면 소비하기 아까우므로 보통 $diag$ 로 줄여서 쓴다.

- 대각행렬이 나타내는 사상은 '**축에 따르는 신축**'. 대각성분이 각 축의 늘고 주는 배율이 된다.

- 단위행렬 $I$ 도 대각행렬의 일종으로 $I=diag(1,...,1)$ 라고 쓰기도 한다.

- 대각행렬에서는 $y=Ax$ 가 독립도니 $n$ 개의 서브시스템으로 나눠져있는데,
  $$
  y_1=a_1x_1,...,y_n=a_nx_n
  $$
  즉 외관은 $n$ 차원 행렬같아도 실질적으로는 $n$ 개의 1차원 문제가 존재하는 것.

<br>

단위행렬이나 영행렬은 좌표에 의존하지 않는 개념이다 (대각행렬은 의존적).

- 항상 $f(\vec{x})=\vec{x}$ 라는 사상에 대응하는 것이 단위행렬 (아무것도 하지 않는 사상이므로).
- 항상 $f(\vec{x})=\vec{o}$ 이란 사상에 대응하는 것이 영행렬 (모든 것을 원점으로 이동하는 사상이므로).

<br>

#### 1.2.8 역행렬 = 역사상

정방행렬 $A$ 에 대해 그 역사상에 대응하는 행렬. $A^{-1}$ 이라고 쓴다.

- '이동된 점 $y$ 를 갖고 원래의 점 $x$ 를 구하다' 라는 사상에 대응하는 행렬.

  - $A$ 하고 $A^{-1}$ 하면 원래대로 돌아가고, $A^{-1}$ 하고 $A$ 해도 원래대로 돌아간다. 즉, 
    $$
    A^{-1}A = AA^{-1} = I
    $$
    

- 역행렬은 있을 수도, 없을 수도 있다. '<u>납작하게 눌리는</u>' 경우는 역행렬이 존재하지 않는다.
  - '눌린다'는 것은 '서로 다른 두점 $x,x^{'}$가 $A$를 적용하면 같은 점 $y=Ax=Ax^{'}$로 이동한다' 는 것. 
  - 이동점 $y$로 기존의 점 $x$ 와 다른 점 $x^{'}$를 구별할 수 없다.

<br>

**기본적인 성질**

- $(A^{-1})^{-1}=A$ 

  '$A$의 취소'를 취소하려면 $A$하면 된다. 

- $(AB)^{-1}=B^{-1}A^{-1}$ 

  '$B$하고 $A$한 것'을 원래대로 돌려놓으려면 **$A$ 부터 취소하고 $B$ 를 취소해야 한다.**

<br>

**대각행렬의 경우**

$A=diag(a_1, ...a_n)$ 이다.

- 대각행렬 $A$가 나타내는 사상은 '축에 따른 신축'.
  - 1축은 $a_1$배, 2축은 $a_2$배, ...
  - 원래대로 돌려놓고 싶으면 1축은 $1/a_1$ 배, 2축은 $1/a_2$배, ...
    - $a_1,...a_n$ 에 0이 하나라도 있으면 역행렬 생성 불가하다. $A$가 납작하게 눌리는 사상이 됨.

<br>

#### 1.2.9 블록행렬

행렬의 종횡에 단락을 넣어 각 구역을 작은 행렬로 간주한 것.

- 마치 $B_{ij}$와 $A_{jp}$가 보통의 수인 것처럼 '행렬의 곱' 모양으로 계산해도 상관없다. 단, 곱셈의 순서는 주의해야 한다.

<br>

**행벡터, 열벡터**

블록행렬의 특별한 경우로서 다음과 같이 한 방향으로만 나누는 것도 가능하다.

$A=\begin{pmatrix}
a_{11} &a_{12} &\cdots & a_{1m} \\
\vdots &\vdots &       & \vdots \\
a_{n1} &a_{n2} &\cdots & a_{nm}
\end{pmatrix}=(a_1, a_2,...,a_m)$

$\\
B=\begin{pmatrix}
b_{11} & \cdots & b_{1n} \\
b_{21} & \cdots & b_{2n} \\
\vdots &        & \vdots \\
b_{m1} & \cdots & b_{mn}
\end{pmatrix} = 
\begin{pmatrix}
b_1^{T} \\
b_2^{T} \\
\vdots \\
b_m^{T}
\end{pmatrix}$

- $a_1,...a_m$ 을 '$A$의 **열벡터**' 라고 하고, $b_1^{T}, ...,b_m^{T}$ 를 '$B$의 **행벡터**' 라고 한다.

- '열벡터가 각 축 방향의 단위벡터 $e_1,...,e_m$의 목적지다.'

<br>

**블록대각행렬**

대각선 방향의 대각선상 블록이 모두 정방행렬이고, 그 외의 블록이 모두 영행렬인 것.

$\begin{pmatrix} A_1&O&O&O \\ O&A_2&O&O \\ O&O&A_3&O \\ O&O&O&A_4 \end{pmatrix} \equiv diag(A_1,A_2,A_3,A_4)$

- 대각성분에 대응하는 행렬 $A_1, A_2, A_3, A_4$를 **대각블록**이라고 한다.
- 이런 행렬은 '**각 블록마다 독립적으로 변환된다**' 라는 형태의 사상을 나타낸다.
- 기존의 대각행렬과 똑같은 성질(거듭제곱, 역행렬)을 가지고 있다. 
  - '블록대각행렬'도 '대각행렬'과 마찬가지로 좌표에 의존하는 개념이다.

<br>

$ \begin{pmatrix} y_1 \\ y_2 \\ y_3 \\ y_4 \end{pmatrix}= \begin{pmatrix} a_{11}&a_{12}&0&0 \\ a_{21}&a_{22}&0&0 \\ 0&0&a_{33}&a_{34} \\ 0&0&a_{43}&a_{44} \end{pmatrix} \begin{pmatrix} x_1 \\ x_2 \\ x_3 \\ x_4 \end{pmatrix} $

위의 행렬은 독립된 '서브시스템(subsystem)' 두 개로 분해된다.

$\begin{pmatrix}y_1\\y_2\end{pmatrix} =\begin{pmatrix}a_{11}&a_{12}\\a_{21}&a_{22} \end{pmatrix} \begin{pmatrix}x_1\\x_2\end{pmatrix}$

$\begin{pmatrix}y_3\\y_4\end{pmatrix} =\begin{pmatrix}a_{33}&a_{34}\\a_{43}&a_{44} \end{pmatrix} \begin{pmatrix}x_3\\x_4\end{pmatrix}$

<br>

#### 1.2.10 여러 가지 관계를 행렬로 나타내다 (2)

(생략)

<br>

#### 1.2.11 좌표 변환과 행렬

**좌표 변환**

다시 '기저'를 떠올려 보자.

- 같은 공간에서도 기저를 취할 수 있는 방법은 여러 가지다.
  - $km$, $m$ 처럼 문제 상에서 사용 가능한 단위 자체는 다양하다.
- 어떻게 기저를 취하여 좌표를 표현해도 실체로서의 벡터 자체는 같다.
  - 단위를 다르게 사용해도 최종적인 '값' 자체는 같다.
- 따라서 이해하기 쉬운 기저를 취하는 것이 적절하다.
  - 표현하기 쉬운 단위를 사용하자.
- 변환된 기저로 '답'을 구하고, 그것을 기존의 기저로 돌려주면 원하던 답을 얻을 수 있다.
  - 1,000,000m 값을 1,000km로 단위 변환 후 '답'을 구하고, '답'을 m의 형태로 표현하면 된다.

<br>

좌표 변환의 성질

- 좌표 변환은 '정방행렬 $A$를 곱한다'라는 형태로 쓸 수 있다. $A$에는 역행렬이 존재한다.
  - 역행렬이 존재해야 기존의 값으로 돌아갈 수 있다.
- 반대로 역행렬을 지니는 정방행렬 $A$를 곱하는 것은 좌표 변환이라고 해석할 수 있다.

<br>

쉽게 2차원의 기저 변환을 생각해보기.

- 기저는 여러 가지로 취할 수 있으므로, 2쌍의 기저 $(\vec e_x, \vec e_y), (\vec e'_x, \vec e'_y)$ 를 사용해 같은 벡터 $\vec v$ 를 다음 두 가지로 표현했다고 하자.
  $$
  \vec v=x\vec e_x + y\vec e_y = x'\vec e'_x + y'\vec e'_y
  $$
  우리가 알고 싶은 것은 좌표 $v=(x,y)^T$와 좌표 $v'=(x',y')^T$ 와의 대응관계.

  <br>

  기저 간의 대응 관계가 
  $$
  \vec e'_x=3\vec e_x - 2\vec e_y\\ \vec e'_y=-\vec e_x + \vec e_y
  $$
  라 하고,  $\vec v=x'\vec e'_x + y'\vec e'_y$에 기저들을 대입하면,
  $$
  \vec v= x'\vec e'_x + y'\vec e'_y= x'(3\vec e_x-2\vec e_y)+y'(-\vec e_x+ \vec e_y)=(3x'-y')\vec e_x + (-2x'+y')\vec e_y
  $$
  <br>

  이것과 $\vec v=x\vec e_x + y\vec e_y$ 가 같으므로
  $$
  x=3x'-y' \\ y=-2x'+y'
  $$
  이를 $x',y'$에 대해 풀면
  $$
  x'=x+y \\ y'=2x+3y
  $$
  

  이것이 좌표 $v=(x,y)^T$에서 $v'=(x', y')^T$ 로의 변환 규칙이다. 

> 사실 이건 당연한 이야기.
>
> 후지산의 높이 = 3776m = 3.776km 이다. 단위가 1000배 차이 나므로 값은 1/1000배 되어야 한다. 하지만 단위에 따른 값의 표현의 변화일 뿐, 실체의 높이는 변하지 않는다.
>
> '단위'에 해당하는 것이 '**기저**', '값'에 해당하는 것이 '**좌표**'.

<br>

**좌표 변환을 행렬로 쓰다**

3차원 공간의 예로 간단히 생각해보자.

​		$v'=\begin{pmatrix}1\\0\\0\end{pmatrix} \leftrightarrow v=\begin{pmatrix}a_{11}\\a_{21}\\a_{31}\end{pmatrix} \\ v'=\begin{pmatrix}0\\1\\0\end{pmatrix} \leftrightarrow v=\begin{pmatrix}a_{12}\\a_{22}\\a_{32}\end{pmatrix} \\ v'=\begin{pmatrix}0\\0\\1\end{pmatrix} \leftrightarrow v=\begin{pmatrix}a_{13}\\a_{23}\\a_{33}\end{pmatrix} $

<br>

위의 첫 번째 식은 $1\vec e'_1+0\vec e'_2+0\vec e'_3=a_{11}\vec e_1+a_{21}\vec e_2+a_{31}\vec e_3$ 이다. 이것을 $v'$의 축으로 보면 $(1,0,0)^T, (0,1,0)^T, (0, 0, 1)^T$ 의 목적지를 알 수 있으므로, $v'$를 $v$ 에 옮기는 행렬이 보인다.

​		$v=Av'\\A=\begin{pmatrix}a_{11}&a_{12}&a_{13}\\a_{21}&A_{22}&a_{23}\\a_{31}&a_{32}&a_{33} \end{pmatrix}$



역방향은 $v=Av'$ 이다.

<br>

> <u>1.31 좌표 변환은 '정방행렬을 곱한다'라는 형태로 쓰여진다. 반대로 정방행렬을 곱하는 것도 모두 '좌표 변환'인가?</u>
>
> 역행렬이 존재한다면 좌표 변환이라고 해석할 수 있다.
>
> 특정한 공간에서 많은 기저가 '생성'될 수 있지만, 생성된 기저가 기저의 조건을 만족하는지 증명을 해야 한다. 이 증명을 위해서는 $A$의 역행렬이 필요한데, 정방행렬이 역행렬을 가진다면 좌표 변환이라 말할 수 있다.

> <u>1.32 결국 좌표 변환에서 벡터는 변하는가?</u>
>
> 화살표 벡터 $\vec x$ 는 변하지 않지만, 좌표 값 $x$는 변한다. 마치 백두산 높이가 2744m나 2.744km나 동일한 걸 알 수 있지만, 단위가 달라짐에 따라 표시되는 값 자체는 단위에 맞게 달라진다.

<br>

#### 1.2.12 전치행렬 = ? ? ?

행렬 $A$의 행과 열을 바꿔넣은 것. $A^T$라고 쓴다.

​		$A=\begin{pmatrix}2&9&4\\7&5&3\end{pmatrix} \rightarrow A^T=\begin{pmatrix}2&7\\9&5\\4&3\end{pmatrix}$

연산 순서의 약속은 기법의 외관 그대로 거듭제곱과 같다. $AB^T$는 $A(B)^T$이지 $(AB)^T$가 아니다.

- 전치의 전치는 원래대로 돌아온다.

  ​		$(A^T)^T=A$

- 이런 것도 있다.

  ​		$(AB)^T=B^TA^T$

<br>

사상으로서의 전치행렬의 의미?

- **내적**이라는 새로운 기능을 선형 공간에 추가하지 않으면 전치에 의미를 부여할 수 없다.

<br>

#### 1.2.13 보충 (1) 크기에 집착하라

(생략.p.101~104)

<br>

#### 1.2.14 보충 (2) 성분으로 말하면

'지면(문장 구성, 배열)에 집중말고 기하하적인 이미지를 소중하게'라는 걸 강조했지만, 프로그램을 쓸 때는 끈질기게 성분을 다룰 필요가 있다. 각 개념을 성분으로 말하면 어떻게 되는지 정리.

<br>

$m \times n$ 행렬 $A={a_{ij}}$ 에 대해

- $A$가 **영행렬** 		$\leftrightarrow$ 		모든 $i,j$에 대해 $a_{ij}=0$
- $A$가 **단위행렬**		$\leftrightarrow$		모든 $i,j$에 대해($m=n$이면) $a_{ij}=\begin{cases}
  1(i=j)\\
  0(i\neq j)
  \end{cases}$
- $A$가 **대각행렬**		$\leftrightarrow$		모든 $i,j(i\neq j)$에 대해($m=n$이면) $a_{ij}=0$
- $A$가 **전치행렬**이 $B=(b_{kl})$		$\leftrightarrow$		모든 $i,j$에 대해($B$는 $n\times m$ 행렬이고) $b_{ji}=a_{ij}$		  

<br>

## 1.3 행렬식과 확대율

#### 1.3.1 행렬식 = 부피 확대율

면적 확대율은 기존 도형의 위치나 모양과 관계가 없다. 이런 면적 확대율에 관한 것을 그 행렬의 **행렬식**(determinant)라고 한다.

- $det\ A=0.75, \  det\ B =0.39$ 이렇게 쓰기도 하고, 
- $\left\vert A \right\vert=0.75,\ \left\vert B \right\vert=0.39$ 이렇게도 쓴다.

<br>

3차 정방행렬이라면 행렬식은 '부피 확대율'을 말한다.

- 일반적으로 $n$차 정방행렬 $A$에 대대해  '$n$차원 판의 부피'의 확대율이 행렬식 $det\ A$이다. 

2차 정방행렬 $A=(a_1,a_2)$의 행렬식은 '벡터 $a_1,a_2$가 정하는 평행사변형의 면적'이라고 해석할 수 있다.

- 면적 1의 정사각형을 $A$로 변환한 결과가 평행사변형이기 때문 (평행사변형 안에는 직사각형도, 정사각형도 포함한다).
- 마찬가지로 3차 정방행렬은 '평행육면체의 부피'라고 해석할 수 있다.

<br>

다른 경우:

- 도형이 '뒤집음'이 되는 경우는 '<u>음의 확대율</u>' 로 나타내기도 한다.

- 도형이 '납작하게' 되는 경우는 확대율이 0 이다.

<br>

> <u>1.34 '부피 확대율을 알면 뭐가 좋을까?'</u>
>
> 해석학 - 적분은 그래프의 면적, 이중적분은 3차원 그래프의 부피로 해석된다. 이 때문에 '다중적분의 변수 변환'에서는 행렬식이 본질적인 역할을 한다. 
>
> 통계학 - '확률변수의 변환에 따른 확률밀도함수의 변환'에서 행렬식이 필요하다. 공간을 늘이면 '부피확대론'에 응해 '밀도'가 내려가기 때문.
>
> '중첩의 검출' - '납작하게 눌리는 경우'는 행렬식이 0이다. 반대로 행렬식이 0이면 납작하게 눌려있을 것이다. 이렇게 행렬식으로 '납작함'을 판단할 수 있는데, '납작함'은 '**역행렬이 존재하지 않음**'을 의미한다.

> <u>1.39 정방이 아닌 경우는?</u>
>
> 정방이 아닌 행렬에서 행렬식은 정의되지 않는다.

<br>

#### 1.3.2 행렬식의 성질

**한 눈에 들어오는 성질**

'행렬은 사상이다', '행렬식 = 부피 확대율'이란 관점으로 보면 다음 성질들은 쉽게 알 수 있다.

​		$ det\ I=1 \\ det(AB)=(det\ A)(det\ B)$	

- $det\ I =1$ : 단위행렬 $I$는 '아무것도 하지 않는 사상'이므로 부피는 원래 그대로 1배.
- $det(AB)=(det\ A)(det\ B)$ : 우선 $B$에서 부피가 $det\ B$ 배 되고, 그 다음 $A$에서 $det\ A$배가 되는 것.

또한,

​		$det\ A^{-1} = \frac{1}{det\ A} \\ det\ A이면\ A^{-1}은\ 존재하지\ 않는다.$

- $det\ A$면 $det\ A^{-1}$가 1/0이 되므로 Undetermined.

<br>

대각행렬에 대한 성질도 알 수 있다.

​		$det(diag(a_1, ...,a_n))=a_1\cdots a_n$

- 대각행렬 $diag$는 '축에 따른 신축'이므로, 모두 곱하면 부피의 확대율이 나온다.

행렬 $A$가 '납작하게 누르다' 행렬이면

- 어딘가의 열이 모두 0인 경우나,
- 두 열이 완전히 같은 경우는 $det\ A=0$이 된다.

<br>

**유용한 성질**

행렬식은 '어느 열의 정수배를 다른 열에 더해도 값이 변하지 않는다'라는 성질이 있다.

- 방향이 바뀐다고 해서 부피는 변하지 않는다. 트럼프 카드 뭉치를 좌우로 흔든다고 해도 부피는 변하지 않는다.

행렬이 특별한 모양이면 행렬식을 간단히 구할 수 있다.

​		$\begin{pmatrix}a_{11}&a_{12}&a_{13}\\0&a_{22}&a_{23}\\0&0&a_{33} \end{pmatrix}$

위와 같이 대각성분보다 아래 쪽이 모두 0인 행렬을 **상삼각행렬**이라 한다.

- 이와 같은 행렬의 행렬식은 대각성분의 곱이다. $det\ A=a_{11}a_{22}a_{33}$

- 직접 구해보자. $A=(a_1,a_2,a_3)$이란 열벡터에서 $a_1,a_2,a_3$을 변으로 하는 평행육면체의 부피 $V$를 계산해보자.

  밑면의 평행사변형 면적 $S$는 다음과 같이 구할 수 있다.

  ​		$S$ = (밑변의 길이 $a_{11}$) $\times$ (높이 $a_{22}$) =  $a_{11}a_{22}$

  평행육면체 높이는 $a_{33}$이므로,

  ​		$V$ = (밑면의 면적 $S$) $\times$ (높이 $a_{33}$) = $a_{11}a_{22}a_{33}$

